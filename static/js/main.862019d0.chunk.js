(window.webpackJsonpcounterplus=window.webpackJsonpcounterplus||[]).push([[0],{37:function(e,t,n){e.exports=n(47)},42:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(13),o=n.n(a),i=(n(42),n(9)),c=n(10),l=n(17),d=n(18),h=n(20),p=n(67),u=n(49),m=n(75),v=n(68),f=n(65),g=n(69),w=n(73),b=n(70),E=n(71),S=n(8),y=n(31),R=n.n(y),I=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).eventLogger=function(e,t){console.log("Event: ",e),console.log("Data: ",t)},n.state={p1:{score:0,set:0},p2:{score:0,set:0},leftServes:!0,posReversed:!1},n.manager=n.props.manager,n.manager.updateContentInterface=function(e,t,s,r){n.setState({p1:{score:e.score,set:e.set},p2:{score:t.score,set:t.set},leftServes:s,posReversed:r}),console.log(s)},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(this.state.posReversed?[!1,!0]:[!0,!1]).map((function(t){return r.a.createElement(x,{scoreData:t?e.state.p1:e.state.p2,onPositiveSwipe:function(){e.manager.addScore(t)},onNegativeSwipe:function(){e.manager.minusScore(t)},serveIndicate:t?e.state.leftServes:!e.state.leftServes})}));return r.a.createElement("div",{style:{display:"flex",flexDirection:"col",alignItems:"center",justifyContent:"center"}},t)}}]),t}(s.Component),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).offset=0,e.onStartSwipe=function(t,n){e.offset=n.y},e.onFinishSwipe=function(t,n){var s=(n.y-e.offset)/window.innerHeight;s>.3?e.props.onPositiveSwipe():s<-.3&&e.props.onNegativeSwipe()},e.state={windowHeight:window.innerHeight,windowWidth:window.innerWidth},e.handleResize=e.handleResize.bind(Object(S.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",null)}},{key:"handleResize",value:function(e,t){this.setState({windowHeight:window.innerHeight,windowWidth:window.innerWidth})}},{key:"render",value:function(){return r.a.createElement(R.a,{axis:"none",handle:".handle",defaultPosition:{x:0,y:0},position:null,grid:[25,25],scale:1,onStart:this.onStartSwipe,onDrag:this.handleDrag,onStop:this.onFinishSwipe},r.a.createElement("div",null,r.a.createElement("div",{className:"handle",style:{width:"50vw",fontSize:"100",height:"100vh"}},r.a.createElement(f.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center",marginTop:-70}},r.a.createElement("h1",{style:{color:"#fff",fontSize:Math.min(.5*this.state.windowHeight,.45*this.state.windowWidth),userSelect:"none",margin:0,marginBottom:"0",padding:0}},this.props.scoreData.score),r.a.createElement("h2",{style:{color:"#fff",fontSize:Math.min(.2*this.state.windowHeight,.2*this.state.windowWidth),userSelect:"none",margin:0}},this.props.scoreData.set)),r.a.createElement("hr",{size:"8",style:{border:0},color:this.props.serveIndicate?"#ff2477":"transparent"})))))))}}]),t}(s.Component),j=I,O=n(72),k=n(34),C=n(74),D=function(e,t){return(e||t)&&!(e&&t)},H=function e(t,n,s,r){Object(i.a)(this,e),this.p1=t.score,this.p2=n.score,this.p1set=t.set,this.p2set=n.set,this.servReversed=s,this.posReversed=r},z=function e(){Object(i.a)(this,e),this.score=0,this.set=0},W=function e(){var t=this;Object(i.a)(this,e),this.addScore=function(e){t.isSetFinished()?t.proceedNextSet():t.changeScore(e,!0)},this.minusScore=function(e){e&&t.p1.score<1||!e&&t.p2.score<1||t.changeScore(e,!1)},this.changeScore=function(e,n){e?t.p1.score+=n?1:-1:t.p2.score+=n?1:-1,t.changeServReversed(),t.pushHistory(),t.updateInterface()},this.updateInterface=function(){t.updateContentInterface(t.p1,t.p2,t.leftServes(),t.isPosReversed()),t.updateBarInterface(t.logIncludes(t.logIndex+1),t.logIncludes(t.logIndex-1))},this.proceedNextSet=function(){var e=t.p1.score>t.p2.score;t.p1.score=0,t.p2.score=0,e?t.p1.set+=1:t.p2.set+=1,t.posReversed=(t.p1.set+t.p2.set)%2===1,t.changeServReversed(),t.pushHistory(),t.updateInterface()},this.changeServReversed=function(){t.isDeuce()?t.servReversed=D((t.p1.score+t.p2.score)%2===0,!t.primServReversed):t.servReversed=D(Math.floor((t.p1.score+t.p2.score)/2)%2===0,!t.primServReversed)},this.undo=function(){t.logIncludes(t.logIndex-1)&&(t.logIndex--,t.restoreFromLog(t.logIndex))},this.redo=function(){t.logIncludes(t.logIndex+1)&&(t.logIndex++,t.restoreFromLog(t.logIndex))},this.pushHistory=function(){var e=new H(t.p1,t.p2,t.servReversed,t.posReversed);t.log.length===t.logIndex+1?t.log.push(e):t.log.length>t.logIndex+1?(t.log=t.log.slice(0,t.logIndex+1),t.log.push(e)):console.log("unknown issue occured"),t.logIndex++},this.restoreFromLog=function(e){var n=t.log[e];t.p1.score=n.p1,t.p2.score=n.p2,t.p1.set=n.p1set,t.p2.set=n.p2set,t.servReversed=n.servReversed,t.posReversed=n.posReversed,t.updateInterface()},this.isDeuce=function(){return t.p1.score>9&&t.p2.score>9},this.isSetFinished=function(){return Math.abs(t.p1.score-t.p2.score)>1&&(t.p1.score>10||t.p2.score>10)},this.isPosReversed=function(){return D(t.posReversed,t.primServReversed)},this.leftServes=function(){return!D(t.primServReversed,D(t.posReversed,t.servReversed))},this.logIncludes=function(e){return e>-1&&e<t.log.length},this.p1=new z,this.p2=new z,this.servReversed=!1,this.posReversed=!1,this.primServReversed=!1,this.gameset=5,this.log=[new H(this.p1,this.p2,this.servReversed,this.posReversed)],this.logIndex=0},N=Object(p.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}})),F=Object(k.a)({type:"light",palette:{primary:{light:"#000000",main:"#364150",contrastText:"#fff"},secondary:{light:"#000000",main:"#C2BDCE",contrastText:"#fff"},error:{light:"#000000",main:"#2b2133",contrastText:"#fff"}}}),L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this))).classes=e.classes,console.log(n.classes),n.state={redoEnabled:!1,undoEnabled:!1},n.manager=new W,n.manager.updateBarInterface=function(e,t){n.setState({redoEnabled:e,undoEnabled:t})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.classes.root},r.a.createElement("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.a.createElement("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),r.a.createElement(O.a,null,r.a.createElement(C.a,{theme:F},r.a.createElement(m.a,{position:"static",color:"primary"},r.a.createElement(v.a,null,r.a.createElement(f.a,{justify:"space-between",container:!0},r.a.createElement(f.a,{item:!0},r.a.createElement(g.a,{variant:"h6",className:this.classes.title},r.a.createElement("img",{src:"https://i.imgur.com/WLv1TO2.png",alt:"CounterPlus",height:"20vw",style:{position:"absolute",top:"50%",transform:"translate(0%, -50%)"}}))),r.a.createElement(f.a,{item:!0},r.a.createElement("div",null,r.a.createElement(w.a,{"aria-label":"undo",disabled:!this.state.undoEnabled,className:this.classes.margin,onClick:function(){e.manager.undo()}},r.a.createElement(b.a,{color:this.state.undoEnabled?"secondary":"error"})),r.a.createElement(w.a,{"aria-label":"redo",disabled:!this.state.redoEnabled,className:this.classes.margin,onClick:function(){e.manager.redo()}},r.a.createElement(E.a,{color:this.state.redoEnabled?"secondary":"error"})))))))),r.a.createElement("div",{style:{backgroundColor:"#364150"}},r.a.createElement(j,{manager:this.manager}))))}}]),t}(s.Component),B=Object(u.a)(N)(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.862019d0.chunk.js.map